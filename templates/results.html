<!-- FILE: templates/results.html -->
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Processing Complete</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <style>
        :root { --pico-primary: #334e99; --pico-primary-hover: #263a73; --pico-primary-focus: rgba(51, 78, 153, 0.25); --pico-primary-inverse: #fff; }
        .container { max-width: 960px; } .navbar { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; margin-bottom: 2rem; } .navbar-brand { display: flex; align-items: center; gap: 1rem; font-weight: bold; font-size: 1.2rem; } .navbar-brand img { height: 40px; } #theme-toggle { display: flex; align-items: center; justify-content: center; width: 44px; height: 44px; padding: 0; }
        .results-box { text-align: center; } .results-box a[role="button"] { text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <nav class="navbar"><div class="navbar-brand"><img src="/static/logo.png" alt="App Logo"><span>PDF Link Processor</span></div><button id="theme-toggle" class="secondary outline"><span class="material-symbols-outlined">light_mode</span></button></nav>
        </header>
        <main>
            <article class="results-box">
                <header><h2>Processing Complete!</h2></header>
                <h4>Processing Notes</h4>
                {% for s in summaries %}
                    <p><strong>{{ s.get('filename', 'File') }}:</strong> {{ s.get('message', 'An unknown error occurred.') }}</p>
                {% endfor %}
                <hr>
                {% if zip_file %}
                    <a href="/download/{{ zip_file }}" role="button">Download All Results (.zip)</a>
                {% else %}
                    <p>No output files were generated based on your selections.</p>
                {% endif %}
                <footer><a href="/" role="button" class="contrast" style="margin-top: 2rem;">Process Another PDF</a></footer>
            </article>
        </main>
    </div>
    <script>
        const themeToggle = document.getElementById('theme-toggle'); const themeIcon = themeToggle.querySelector('.material-symbols-outlined'); const htmlElement = document.documentElement; function setTheme(theme) { htmlElement.setAttribute('data-theme', theme); themeIcon.textContent = theme === 'dark' ? 'light_mode' : 'dark_mode'; localStorage.setItem('theme', theme); } themeToggle.addEventListener('click', () => { const currentTheme = htmlElement.getAttribute('data-theme'); setTheme(currentTheme === 'dark' ? 'light' : 'dark'); }); const savedTheme = localStorage.getItem('theme') || 'light'; setTheme(savedTheme);
    </script>
</body>
</html>